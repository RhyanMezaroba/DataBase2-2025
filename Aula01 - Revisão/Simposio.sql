USE TESTE_BD2;
GO

CREATE TABLE SIMPOSIO (
    ID_SIMPOSIO INT PRIMARY KEY IDENTITY(1,1),
    NOME_SIMPOSIO VARCHAR(100) NOT NULL,
    DATA_INICIO DATE NOT NULL,
    DATA_FIM DATE NOT NULL
);

CREATE TABLE PESSOA (
    ID_PESSOA INT PRIMARY KEY IDENTITY(1,1),
    NOME_PESSOA VARCHAR(100) NOT NULL,
    EMAIL VARCHAR(100) UNIQUE NOT NULL,
    IDADE INT CHECK (IDADE >= 0) NOT NULL
);

CREATE TABLE MINICURSO (
    ID_MINICURSO INT PRIMARY KEY IDENTITY(1,1),
    TITULO VARCHAR(100) NOT NULL,
    DESCRICAO VARCHAR(MAX),
    DATA_INICIO DATE NOT NULL,
    DATA_FIM DATE NOT NULL,
    ID_PESSOA INT NOT NULL,
    ID_SIMPOSIO INT NOT NULL,
    FOREIGN KEY (ID_PESSOA) REFERENCES PESSOA(ID_PESSOA),
    FOREIGN KEY (ID_SIMPOSIO) REFERENCES SIMPOSIO(ID_SIMPOSIO)
);

CREATE TABLE TEMA (
    ID_TEMA INT PRIMARY KEY IDENTITY(1,1),
    NOME_TEMA VARCHAR(100) NOT NULL,
    ID_SIMPOSIO INT NOT NULL,
    FOREIGN KEY (ID_SIMPOSIO) REFERENCES SIMPOSIO(ID_SIMPOSIO)
);

CREATE TABLE ARTIGO (
    ID_ARTIGO INT PRIMARY KEY IDENTITY(1,1),
    TITULO VARCHAR(100) NOT NULL,
    RESUMO VARCHAR(MAX),
    ID_TEMA INT NOT NULL,
    ID_SIMPOSIO INT NOT NULL,
    FOREIGN KEY (ID_TEMA) REFERENCES TEMA(ID_TEMA),
    FOREIGN KEY (ID_SIMPOSIO) REFERENCES SIMPOSIO(ID_SIMPOSIO)
);

CREATE TABLE COMISSAO_CIENTIFICA (
    ID_COMISSAO INT PRIMARY KEY IDENTITY(1,1),
    ID_TEMA INT NOT NULL,
    ID_SIMPOSIO INT NOT NULL,
    FOREIGN KEY (ID_TEMA) REFERENCES TEMA(ID_TEMA),
    FOREIGN KEY (ID_SIMPOSIO) REFERENCES SIMPOSIO(ID_SIMPOSIO)
);

CREATE TABLE PARECER (
    ID_PARECER INT PRIMARY KEY IDENTITY(1,1),
    DESCRICAO_PARECER VARCHAR(MAX),
    DATA_PARECER DATE NOT NULL,
    ID_ARTIGO INT NOT NULL,
    ID_COMISSAO INT NOT NULL,
    FOREIGN KEY (ID_ARTIGO) REFERENCES ARTIGO(ID_ARTIGO),
    FOREIGN KEY (ID_COMISSAO) REFERENCES COMISSAO_CIENTIFICA(ID_COMISSAO)
);

CREATE TABLE INSCRICAO (
    ID_INSCRICAO INT PRIMARY KEY IDENTITY(1,1),
    DATA_INSCRICAO DATE NOT NULL,
    ID_PESSOA INT NOT NULL,
    ID_SIMPOSIO INT NOT NULL,
    FOREIGN KEY (ID_PESSOA) REFERENCES PESSOA(ID_PESSOA),
    FOREIGN KEY (ID_SIMPOSIO) REFERENCES SIMPOSIO(ID_SIMPOSIO)
);

CREATE TABLE INSCRICAO_MINICURSO (
    ID_INSCRICAO INT,
    ID_MINICURSO INT,
    PRIMARY KEY (ID_INSCRICAO, ID_MINICURSO),
    FOREIGN KEY (ID_INSCRICAO) REFERENCES INSCRICAO(ID_INSCRICAO),
    FOREIGN KEY (ID_MINICURSO) REFERENCES MINICURSO(ID_MINICURSO)
);

CREATE TABLE ARTIGO_AUTOR (
    ID_ARTIGO INT,
    ID_PESSOA INT,
    PRIMARY KEY (ID_ARTIGO, ID_PESSOA),
    FOREIGN KEY (ID_ARTIGO) REFERENCES ARTIGO(ID_ARTIGO),
    FOREIGN KEY (ID_PESSOA) REFERENCES PESSOA(ID_PESSOA)
);

CREATE TABLE COMISSAO_PESSOA (
    ID_COMISSAO INT,
    ID_PESSOA INT,
    PRIMARY KEY (ID_COMISSAO, ID_PESSOA),
    FOREIGN KEY (ID_COMISSAO) REFERENCES COMISSAO_CIENTIFICA(ID_COMISSAO),
    FOREIGN KEY (ID_PESSOA) REFERENCES PESSOA(ID_PESSOA)
);

INSERT INTO SIMPOSIO (NOME_SIMPOSIO, DATA_INICIO, DATA_FIM) VALUES
('Simpósio de Tecnologia', '2025-03-31', '2025-04-06');

INSERT INTO PESSOA (NOME_PESSOA, EMAIL, IDADE) VALUES
('João da Silva', 'joao.silva@email.com', 19),
('Maria Oliveira', 'maria.oliveira@email.com', 23),
('Carlos Souza', 'carlos.souza@email.com', 25),
('Ana Pereira', 'ana.pereira@email.com', 27),
('Ricardo Santos', 'ricardo.santos@email.com', 34),
('Fernanda Lima', 'fernanda.lima@email.com', 22),
('Thigo Thomasi', 'rolisso@gmail.com', 19),
('Thiago Balbinot', 'magrao@gmail.com', 19),
('Mateus Ferreira', 'megamente@gmail.com', 20),
('Rhyan', 'aqui.nabranch@gmail.com', 19),
('Mauricio da Silva', 'mauricio.silva@gmail.com', 32),
('Fernanda Silva', 'fernanda.silva@email.com', 20),
('João Pedro', 'joao.pedro@email.com', 19),
('Maria Bastos', 'maria.bastos@email.com', 27),
('Carlos Assunção', 'carlos.assuncao@email.com', 25),
('Ana Pinto', 'ana.pinto@email.com', 28);

INSERT INTO MINICURSO (TITULO, DESCRICAO, DATA_INICIO, DATA_FIM, ID_PESSOA, ID_SIMPOSIO) VALUES
('Introdução ao Banco de Dados', 'Conceitos básicos de BD', '2025-03-31', '2025-04-06', 1, 1),
('Redes de Computadores', 'Princípios de redes', '2025-03-31', '2025-04-06', 2, 1),
('Realidade Virtual', 'Desenvolvimento de aplicações VR', '2025-03-31', '2025-04-06', 3, 1);

INSERT INTO TEMA (NOME_TEMA, ID_SIMPOSIO) VALUES
('BANCO DE DADOS', 1),
('REDES', 1),
('REALIDADE VIRTUAL', 1),
('LINUX', 1),
('SERVIDORES', 1);

INSERT INTO ARTIGO (TITULO, RESUMO, ID_TEMA, ID_SIMPOSIO) VALUES
('O Futuro dos Bancos de Dados', 'Análise de tendências em BD', 1, 1),
('Segurança de Redes', 'Estudo sobre protocolos de segurança VPN', 2, 1),
('Aplicações de Realidade Virtual na Educação', 'Uso de VR no ensino', 3, 1),
('Aplicações em Linux', 'Ensinamentos básicos em Linux', 4, 1),
('Visão técnica em Servidores', 'Instalação e uso de Servidores', 5, 1);

INSERT INTO COMISSAO_CIENTIFICA (ID_TEMA, ID_SIMPOSIO) VALUES
(1, 1),
(2, 1),
(3, 1),
(4, 1),
(5, 1);

INSERT INTO PARECER (DESCRICAO_PARECER, DATA_PARECER, ID_ARTIGO, ID_COMISSAO) VALUES
('Artigo aprovado com ressalvas', '2025-04-05', 1, 1),
('Artigo recusado', '2025-04-05', 2, 2),
('Artigo aprovado', '2025-04-05', 3, 3),
('Artigo aprovado com ressalvas', '2025-04-05', 4, 4),
('Artigo aprovado', '2025-04-05', 5, 5);

INSERT INTO INSCRICAO (DATA_INSCRICAO, ID_PESSOA, ID_SIMPOSIO) VALUES
('2025-03-30', 4, 1),
('2025-03-30', 5, 1),
('2025-03-30', 6, 1),
('2025-03-30', 1, 1),
('2025-03-30', 2, 1),
('2025-03-30', 3, 1);

INSERT INTO INSCRICAO_MINICURSO (ID_INSCRICAO, ID_MINICURSO) VALUES
(1, 3),
(2, 2),
(3, 1);

INSERT INTO ARTIGO_AUTOR (ID_ARTIGO, ID_PESSOA) VALUES
(1, 4),
(2, 5),
(3, 6),
(4, 2),
(5, 3);

INSERT INTO COMISSAO_PESSOA (ID_COMISSAO, ID_PESSOA) VALUES
(1, 7),
(1, 8),
(2, 9),
(2, 10),
(3, 11),
(3, 12),
(4, 13),
(4, 14),
(5, 15),
(5, 16);
